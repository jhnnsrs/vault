"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8952],{68952:function(e,t,n){n.r(t),n.d(t,{UnconnectedGraphQLPlayground:function(){return b},default:function(){return v},fetchFromClient:function(){return g}});var r=n(67294),o=n(42882),i=n(16193),a=n(19229),l=n(29127),c=n(31230),u=function(e,t){return null===t?"":t};function s(e){var t={};return function e(n,r){if(Object(n)!==n)t[r]=n;else if(Array.isArray(n)){for(var o=0,i=n.length;o<i;o++)e(n[o],r+"["+o+"]");0==i&&(t[r]=[])}else{var a=!0;for(var l in n)a=!1,e(n[l],r?r+"."+l:l);a&&r&&(t[r]={})}}(e,""),t}var f=n(82254),d=n(99120),m=(n(84275),n(16508)),p=void 0,g=function(e,t,n){switch(n.definitions.find((function(e){return"OperationDefinition"==e.kind})).operation){case"query":return(0,a.D)(e.query(Object.assign({},t,{query:n})));case"mutation":return(0,a.D)(e.mutate(Object.assign({},t,{mutation:n})));case"subscription":return(0,a.D)(e.subscribe(Object.assign({},t,{query:n})))}},b=function(e){var t=e.initialQuery,n=e.height,a=e.width,b=(0,r.useState)(!1),v=b[0],h=b[1],y=(0,r.useState)(null),w=y[0],E=y[1],x=(0,r.useState)(t),k=x[0],O=x[1],j=(0,r.useRef)(null),q=(0,m.r)().client,N=function(e,t){console.log(e,t);var n=(0,c.Ps)(e.query);return g(q,e,n).pipe((0,l.U)((function(e){return{data:e.data,errors:e.errors}})),(0,l.U)((function(e){return p=e,e})))};(0,r.useEffect)((function(){N({query:(0,f.K)()},{}).subscribe((function(e){console.log(e);var t=(0,d.Z)(e.data);console.log(t),E(t)}))}),[]);var C=function(){if(p.data){if(p.data.__schema)return void alert("Please run a first Query before Exporting!");Object.keys(p.data).map((function(e){var t=p.data[e];return Array.isArray(t)?[e,t.map((function(e){return s(e)}))]:[e,[s(t)]]})).forEach((function(e){try{!function(e,t){console.log(e,t);var n=Object.keys(t[0]);console.log(n);var r=t.map((function(e){return n.map((function(t){return console.log(t),t in e?JSON.stringify(e[t],u):""})).join(",")}));console.log(r),r.unshift(n.join(",")),console.log(r);var o=r.join("\r\n");console.log(o);var i=new Blob([o],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(i,e);else{var a=document.createElement("a");if(void 0!==a.download){var l=URL.createObjectURL(i);a.setAttribute("href",l),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}}(e[0]+".csv",e[1])}catch(t){alert(t)}}))}},L=function(e){return O(e)},P=function(){h(!v)};return r.createElement("div",{style:{width:a||"100%",height:n||600,marginBottom:"10px"},className:"relative flex"},r.createElement("div",{className:"graphql-playground flex-grow"}),r.createElement(o.ZP,{ref:j,fetcher:N,editorTheme:"duotone-dark",query:k,onEditQuery:L,schema:w},r.createElement(o.ZP.Toolbar,null,r.createElement("button",{id:"excel",onClick:function(){return C()},className:"excel",title:"Download Excel File","aria-label":"Download Excel File"},"t"),r.createElement("button",{id:"excel",onClick:function(){window.open("test")},className:"excel",title:"Open in New Window","aria-label":"Open in New Window"}),"w",r.createElement("button",{id:"excel",onClick:function(){return P()},className:"excel",title:"Open in New Window","aria-label":"Open Explorer"},"e")),r.createElement(o.ZP.Logo,null,r.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/GraphQL_Logo.svg/131px-GraphQL_Logo.svg.png"}))),r.createElement("div",{className:"graphql-explorer flex bg-dark z-50"},r.createElement(i.ZP,{schema:w,query:k,onEdit:L,explorerIsOpen:v,onToggleExplorer:P})))},v=b}}]);